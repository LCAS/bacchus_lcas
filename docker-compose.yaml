version: '3'

# persist changes in your home directory
volumes:
  bacchus_home:

services:
  bacchus_teaching:
    build: 
      context: ./docker
      dockerfile: ../Dockerfile
    restart: "no"
    image: lcas.lincoln.ac.uk/lcas/bacchus_lcas_teaching:teaching_noetic
    environment:
      RESOLUTION: 1440x720
    volumes:
      - bacchus_home:/home/ubuntu
      - .:/volume/host
    ports:
      - "6080:80"
      - "6081:8888"
    privileged: true
    deploy:
      resources:
        reservations:
          devices:
            - capabilities: [gpu]